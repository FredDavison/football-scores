#!/usr/bin/env python

import click

from footie_scores.db import schema
from footie_scores.utils.log import start_logging

TABLE_MAP = {'all': None,
             'competitions': schema.Competition,
             'fixtures': schema.Fixture}

@click.command()
@click.option('--drop_what', help='all, competitions, or fixtures')
def drop_something(drop_what):
    if drop_what == 'all':
        schema.clear_tables()
    elif drop_what in TABLE_MAP.keys():
        schema.clear_table(TABLE_MAP[drop_what])
    else:
        options = TABLE_MAP.keys()
        print('ERROR: use an option: all, competitions, or fixtures')


if __name__ == '__main__':
    start_logging()
    drop_something()
    
